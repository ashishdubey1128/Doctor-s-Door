<!DOCTYPE html>
<html>
<head>
	<title>Home Page</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Baloo+Thambi" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Baloo" rel="stylesheet">
<style type="text/css">
		.button {
  border-radius: 4px;
  background-color: #f1f442;
  border: none;
  color: #0c0c0c;
  text-align: center;
  font-size: 15px;
  font-weight: 600;
  padding: 5px;
  width: 200px;
  transition: all 0.5s;
  cursor: pointer;
  margin: 5px;
}

.button span {
  cursor: pointer;
  display: inline-block;
  position: relative;
  transition: 0.5s;
}

.button span:after {
  content: '\00bb';
  position: absolute;
  opacity: 0;
  top: 0;
  right: -20px;
  transition: 0.5s;
}

.button:hover span {
  padding-right: 25px;
}

.button:hover span:after {
  opacity: 1;
  right: 0;
}
.danger {
  border-color: #f1f442;
  color: black;
  font-weight: 600;
}

.danger:hover {
  background: #f1f442;
  color: red;
}
.btn {
  border-radius: 5px;
}
html,body{
height: 100%;}
.slide {
    animation-name: slide;
    -webkit-animation-name: slide;
    animation-duration: 1s;
    -webkit-animation-duration: 1s;
    visibility: visible;
  }
  @keyframes slide {
    0% {
      opacity: 0;
      transform: translateY(70%);
    } 
    100% {
      opacity: 1;
      transform: translateY(0%);
    }
  }
  @-webkit-keyframes slide {
    0% {
      opacity: 0;
      -webkit-transform: translateY(70%);
    } 
    100% {
      opacity: 1;
      -webkit-transform: translateY(0%);
    }
  }
  @media screen and (max-width: 768px) {
    .col-sm-4 {
      text-align: center;
      margin: 25px 0;
    }
    .btn-lg {
      width: 100%;
      margin-bottom: 35px;
    }
  }
  @media screen and (max-width: 480px) {
    .logo {
      font-size: 150px;
    }
  }

  </style>
	 <script>

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
   alert("Geolocation is not supported by this browser.");
  }
}

function showPosition(position) {

        $("#la").val(position.coords.latitude);

        $("#lo").val(position.coords.longitude);
}
</script>
</head>
<body data-spy="scroll" data-target=".main" data-offset="50" onload="getLocation()">
  <div style="background-image: url(https://images.unsplash.com/photo-1511174511562-5f7f18b874f8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80);background-size: cover;background-repeat: no-repeat;height: 100%;" id="m">
        <div class="container main" style="padding-top: 150px;padding-bottom: 100px;">
          <div class="jumbotron" style="text-align: center;border-radius: 30px;margin-right: 10%;margin-left: 10%;background-color: #070707;background-color: rgba(0,0,0,0.5);">
          <h1 style="color: white;">Welcome <%=age[0].name%>!!!!</h1>
          <input type="text" name="la" id="lat" style="visibility: hidden;">
          <input type="text" name="lo" id="lon" style="visibility: hidden;"><br>
          <a href="#register"><button class="button"><span>Search Doctors</span></button></a>
          <br>
          <a href="#view"><button class="button"><span>View Appointments</span></button></a>
          <br>
          <a href="/logout"><button class="btn danger">Logout</button></a>
          </div>
        </div>
  </div>





  <div id="register" class="slide" style="background-image: url(https://images.unsplash.com/photo-1526288926180-808e4003905e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1067&q=80);/*background-color: #edc755*/background-repeat: no-repeat;background-size: cover;">
    <div class="container" style="padding-top: 200px;padding-bottom: 300px;">
      <div class="jumbotron" style="text-align: center;border-radius: 20px;background-color: rgba(0,0,0,0.6);">
      <form name="form1" method="post" action="/doctor/<%=id%>">
        <br><input type="text" name="symp" placeholder="Enter your symptoms"><br><br>
        <input type="text" name="age" id="age" placeholder="Enter your year of Birth"><br><br>
        <input type="radio" name="sex" value="male"><span style="color: white;">Male</span> &nbsp;
        <input type="radio" name="sex" value="female"><span style="color: white;">Female</span>
        <br><br>
        <input type="submit" name="submit" class="btn btn-md btn-primary">       
      </form>
    </div>
</div>
</div>






<div id="view" class="slide main" style=style="/*background-image: url(https://images.unsplash.com/photo-1526288926180-808e4003905e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1067&q=80)*/;background-repeat: no-repeat;background-size: cover;">
  <div class="container" style="padding-top: 100px;padding-bottom: 25px;text-align: center;">
  	<div class="jumbotron" style="margin-left: 15%;margin-right: 15%;border-radius: 30px;background-color: rgba(237, 233, 213,0.5);"><h1>Medical History</h1></div>
  	<div class="well-md" style="background-color: rgba(0,0,0,0.9);text-align: center;margin-left: 15%;margin-right: 15%;border-radius: 20px;">
  			<table class="table table-hover" style="color: white;font-size: 20px;">
          <th>Hospital</th><th>Doctor</th><th>D.O.V</th><th>Time</th> 
          <%usr.forEach(function(usr){%>
          
          <tr>
            <td><%=usr.hname%></td>
            <td><%=usr.dname%></td>
            <td><%=usr.date%></td>
            <td><%=usr.time%></td>
          </tr>
          <%});%>
        </table>
		</div>
  	<br>
  	<br>
  	<a href="/<%=id%>/removequery"><button class="btn btn-md btn-primary">Cancel First Appoint.</button></a>
  </div>
  <a href="#m" class="btn btn-primary btn-sm" style="float: right;">Top</a>
</div>






<script>
  function a() {
    if(form1.symp.value==="")
    {
      alert("Enter valid Query");
    }
    else
      alert("Query Register!");
  }
  $("#age").val(<%=age[0].dob%>);
$(document).ready(function(){
  // Add smooth scrolling to all links in navbar + footer link
  $(".main a").on('click', function(event) {
    // Make sure this.hash has a value before overriding default behavior
    if (this.hash !== "") {
      // Prevent default anchor click behavior
      event.preventDefault();

      // Store hash
      var hash = this.hash;

      // Using jQuery's animate() method to add smooth page scroll
      // The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
      $('html, body').animate({
        scrollTop: $(hash).offset().top
      }, 900, function(){
   
        // Add hash (#) to URL when done scrolling (default click behavior)
        window.location.hash = hash;
      });
    } // End if
  });
  
  $(window).scroll(function() {
    $(".slideanim").each(function(){
      var pos = $(this).offset().top;

      var winTop = $(window).scrollTop();
        if (pos < winTop + 600) {
          $(this).addClass("slide");
        }
    });
  });
})
</script>
<script>

var div = document.getElementById('view');

div.style.height = '100%';
document.body.appendChild(div);
div.addEventListener('mousemove', function(event) {

var x = event.clientX;
var y = event.clientY;

div.style.backgroundColor = 'rgb('+ x +', '+y+', +100)';
} )
</script>
</body>
</html>